<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>New This</title>

    <!-- Latest compiled and minified CSS & JS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"> -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script> -->
</head>

<body>

    <h1>Open the console to see the action!</h1>

    <script>
        // Here we are given a cob-web of items. Let's dig in and grab the items we need.
        var theCobWeb = {
            biggestWeb: {
                item: "comb",
                biggerWeb: {
                    items: ["glasses", "paperclip", "bubblegum"],
                    smallerWeb: {
                        item: "toothbrush",
                        tinyWeb: {
                            items: ["toenails", "lint", "wrapper", "homework"]
                        }
                    }
                },
                otherBigWeb: {
                    item: "headphones"
                }
            }
        };

        // Create the code necessary to print each of the following lines using the object above:
        // "I found my glasses!"
        console.log("I found my " + theCobWeb.biggestWeb.biggerWeb.items[0] + "!");
        // "I found my toothbrush!"
        console.log("I found my " + theCobWeb.biggestWeb.biggerWeb.smallerWeb.item + "!");
        // "I found my headphones!"
        console.log("I found my " + theCobWeb.biggestWeb.otherBigWeb.item + "!");
        // "I found my homework!"
        console.log("I found my " + theCobWeb.biggestWeb.biggerWeb.smallerWeb.tinyWeb.items[3] + "!");

        // Bonus (Extra Hard): It's impossible to complete this in the allotted time. Take this home as a challenge and bring it back to your TA/Instructor for the solution.
        // Create a function using JavaScript (NOT jQuery) for which you can pass the name of an item and theCobWeb
        // and the function returns the smallest web it was found inside of.
        // Your code should work if someone were to modify theCobWeb.  
        //  for example if you gave your program 
        //    comb it should give back biggestWeb
        //    toenails it should give back tinyWeb
        //    headphones it should give back otherBigWeb
        // HINT: you should use recursion

        var count = 0;
        var latestArrayIndexFound;
        var latestObjectKeyFound;

        function traverse(obj, val) {
            if (isArray(obj)) {
                traverseArray(obj)
            } else if ((typeof obj === 'object') && (obj !== null)) {
                traverseObject(obj)
            } else {
                console.log("val found: " + obj + " in " + latestArrayIndexFound + " under " + latestObjectKeyFound);
            }
        }

        function traverseArray(obj) {
            for (var key in obj) {
                latestArrayIndexFound = key;

                console.log("latestArrayIndexFound: " + key);
                traverse(obj[key]);
            }
        }

        function traverseObject(obj) {
            for (var key in obj) {

                // hasOwnProperty returns a boolean value indicating whether the object
                // on which you are calling it has a property with the name of the argument.
                // So, if this key is a property of obj, traverse through that property
                if (obj.hasOwnProperty(key)) {
                    latestObjectKeyFound = key;
                    console.log("latestObjectKeyFound: " + key);

                    traverse(obj[key])
                }
            }
        }

        function isArray(o) {
            return Object.prototype.toString.call(o) === '[object Array]'
        }

        // usage:
        traverse(theCobWeb, "toothbrush");

        // findVal(theCobWeb, "item", "toothbrush");

        // console.log(Object.keys(theCobWeb));

        // for (var propertyName in theCobWeb) {
        //     console.log(propertyName, theCobWeb[propertyName]);
        // }
    </script>

</body>

</html>